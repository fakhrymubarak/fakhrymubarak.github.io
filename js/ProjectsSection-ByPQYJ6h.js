const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/ProjectModal-2C09X8H4.js","js/index-BqkfNc5v.js","js/chunk-DavUf6mE.js","js/chunk-LMjOszCr.js","js/chunk-K44iAZUK.js","assets/index-BJbLxsUB.css","js/chunk-DG0MQv19.js","js/ProjectFilter-BY8UZxhV.js"])))=>i.map(i=>d[i]);
import{j as e,L as C,p as E,b as _,_ as k}from"./index-BqkfNc5v.js";import{r as s}from"./chunk-LMjOszCr.js";import{a as I,L as M,d as A,m as y,A as N}from"./chunk-DG0MQv19.js";import{E as L,F as V}from"./chunk-K44iAZUK.js";import{m as T}from"./chunk-BZYgIAQY.js";import"./chunk-DavUf6mE.js";const R=({src:t,alt:a,className:c="",placeholder:n,priority:r=!1,onLoad:x,onError:l,sizes:j="100vw"})=>{const[d,u]=s.useState(!1),[p,o]=s.useState(!1),[f,g]=s.useState(r),h=s.useRef(null);s.useEffect(()=>{if(r){g(!0);return}const m=new IntersectionObserver(([i])=>{i.isIntersecting&&(g(!0),m.disconnect())},{threshold:.1,rootMargin:"50px"});return h.current&&m.observe(h.current),()=>m.disconnect()},[r]);const v=()=>{u(!0),x?.()},b=()=>{o(!0),l?.()},P=m=>`${m} 1x, ${m} 2x`;return p?e.jsx("div",{className:`flex items-center justify-center bg-gray-100 dark:bg-gray-800 ${c}`,children:e.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-2 bg-gray-200 dark:bg-gray-700 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-xs",children:"?"})}),e.jsx("p",{className:"text-xs",children:"Image failed to load"})]})}):e.jsxs("div",{className:`relative overflow-hidden ${c}`,ref:h,children:[!d&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800 transition-opacity duration-300 opacity-100",children:n?e.jsx("img",{src:n,alt:"",className:"w-full h-full object-cover opacity-50"}):e.jsx(C,{size:"md",color:"gray"})}),f&&e.jsx("img",{src:t,alt:a,className:`w-full h-full object-cover transition-opacity duration-300 ${d?"opacity-100":"opacity-0"}`,onLoad:v,onError:b,loading:r?"eager":"lazy",decoding:"async",fetchPriority:r?"high":"auto",sizes:j,srcSet:P(t)})]})},S=6,z=()=>{const t=s.useMemo(()=>T(E),[]),{projects:a}=t,[c,n]=s.useState(null),[r,x]=s.useState("all"),[l,j]=s.useState(!1),[d,u]=s.useState(!1),p=s.useMemo(()=>{const i=a.flatMap(w=>w.stacks);return Array.from(new Set(i))},[a]),o=s.useMemo(()=>r==="all"?a:a.filter(i=>i.stacks.includes(r)),[a,r]),f=s.useMemo(()=>d?o:o.slice(0,S),[o,d]),g=o.length>S;return{projects:a,selectedProject:c,activeFilter:r,showFilters:l,showAllProjects:d,availableFilters:p,filteredProjects:o,displayedProjects:f,hasMoreProjects:g,handleProjectSelect:i=>{const w=a.find(F=>F.id===i)||null;n(w)},handleFilterChange:i=>{x(i),u(!1)},handleCloseModal:()=>{n(null)},handleToggleProjects:()=>{u(i=>!i)},handleToggleFilters:()=>{j(i=>!i)}}},$=({project:t,index:a,onSelect:c})=>{const{trackProjectView:n,trackButtonClick:r}=_(),x=l=>{l.stopPropagation(),n(t.title),c(t.id)};return e.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:a*.1},whileHover:{y:-5},className:"card group cursor-pointer",onClick:x,children:[e.jsxs("div",{className:"relative overflow-hidden rounded-t-lg",children:[e.jsx(R,{src:t.image,alt:t.title,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"pt-4 space-y-4",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:t.logo,alt:`${t.title} logo`,className:"w-8 h-8 rounded",loading:"lazy",decoding:"async",width:32,height:32}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text",children:t.title}),e.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted",children:t.period})]})]})}),e.jsx("p",{className:"text-sm text-light-muted dark:text-dark-muted line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.stacks.slice(0,3).map(l=>e.jsx("span",{className:"px-2 py-1 bg-primary-coral/10 text-primary-coral text-xs rounded-full",children:l},l)),t.stacks.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-light-muted/20 text-light-muted dark:text-dark-muted text-xs rounded-full",children:["+",t.stacks.length-3]})]}),e.jsxs("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"btn-outline text-sm px-4 py-2",onClick:l=>{l.stopPropagation(),r("view_project",`project_${t.title}`)},children:["View Project",e.jsx(L,{className:"w-3 h-3 ml-1"})]})]})]})},D=s.lazy(()=>k(()=>import("./ProjectModal-2C09X8H4.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),O=s.lazy(()=>k(()=>import("./ProjectFilter-BY8UZxhV.js"),__vite__mapDeps([7,1,2,3,4,5,6]))),K=()=>{s.useEffect(()=>{k(()=>import("./ProjectModal-2C09X8H4.js"),__vite__mapDeps([0,1,2,3,4,5,6]))},[]);const{displayedProjects:t,selectedProject:a,activeFilter:c,showFilters:n,showAllProjects:r,availableFilters:x,hasMoreProjects:l,handleProjectSelect:j,handleFilterChange:d,handleCloseModal:u,handleToggleProjects:p,handleToggleFilters:o}=z(),{trackButtonClick:f}=_(),g={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},h={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}};return e.jsxs("section",{id:"projects",className:"section",role:"region","aria-label":"Projects",style:{contentVisibility:"auto",containIntrinsicSize:"1000px"},children:[e.jsx("div",{className:"container",children:e.jsx(M,{features:A,children:e.jsxs(y.div,{variants:g,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"space-y-12",children:[e.jsxs(y.div,{variants:h,className:"text-center space-y-4",children:[e.jsx("h2",{className:"heading-2 text-3xl md:text-4xl font-bold text-light-text dark:text-dark-text mb-2",children:"Projects"}),e.jsx("p",{className:"body-text max-w-2xl mx-auto",children:"Here are some of the projects I've worked on, showcasing my expertise in mobile development and software engineering."}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:()=>{f("toggle_filters","projects_section"),o()},className:"flex items-center space-x-2 px-4 py-2 bg-light-surface dark:bg-dark-surface rounded-lg border border-light-muted/20 dark:border-dark-muted/20 hover:bg-light-surface/80 dark:hover:bg-dark-surface/80 transition-colors",children:[e.jsx(V,{className:"w-4 h-4"}),e.jsx("span",{children:"Filter Projects"})]})})]}),e.jsx(N,{children:n&&e.jsx(y.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden",children:e.jsx(s.Suspense,{fallback:e.jsx("div",{}),children:e.jsx(O,{filters:x,activeFilter:c,onFilterChange:d})})})}),e.jsx(y.div,{variants:h,className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((v,b)=>e.jsx($,{project:v,index:b,onSelect:j},v.id))}),l&&e.jsx(y.div,{variants:h,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center",children:e.jsx("button",{onClick:p,className:"btn-outline px-8 py-3",children:r?"Show Less":"See More"})})]})})}),e.jsx(N,{mode:"wait",children:a&&e.jsx(s.Suspense,{fallback:null,children:e.jsx(D,{project:a,onClose:u},a.id)})})]})};export{K as default};
